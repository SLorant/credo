<div class="container work-container">
  <h2 class="workheader">
    Miért érdemes <br />
    <span class="workheader2">velünk</span> dolgoznod?
  </h2>
  <p class="workp">
    A Credo nem zsákbamacskát árul. Tapasztalat, rendszerben való stratégiai
    gondolkodás, vállalkozói szemlélet, pontos kivitelezés, és egy nagy kalap
    kreativitás.
  </p>
  <div class="stripe">
    <div class="stripe-content">
      <span
        >felmérünk.&nbsp;&nbsp;&nbsp;tervezünk.&nbsp;&nbsp;&nbsp;alkotunk.&nbsp;&nbsp;&nbsp;tesztelünk.&nbsp;&nbsp;&nbsp;optimalizálunk.&nbsp;&nbsp;&nbsp;<span
          class="highlight">ismétlünk.</span
        >&nbsp;&nbsp;&nbsp;</span
      >
      <span
        >felmérünk.&nbsp;&nbsp;&nbsp;tervezünk.&nbsp;&nbsp;&nbsp;alkotunk.&nbsp;&nbsp;&nbsp;tesztelünk.&nbsp;&nbsp;&nbsp;optimalizálunk.&nbsp;&nbsp;&nbsp;<span
          class="highlight">ismétlünk.</span
        >&nbsp;&nbsp;&nbsp;</span
      >
      <span
        >felmérünk.&nbsp;&nbsp;&nbsp;tervezünk.&nbsp;&nbsp;&nbsp;alkotunk.&nbsp;&nbsp;&nbsp;tesztelünk.&nbsp;&nbsp;&nbsp;optimalizálunk.&nbsp;&nbsp;&nbsp;<span
          class="highlight">ismétlünk.</span
        >&nbsp;&nbsp;&nbsp;</span
      >
    </div>
  </div>
</div>

<script>
  import { animate, onScroll } from "animejs";

  if (window.innerWidth < 768) {
    animate(".workheader", {
      opacity: [0, 1],
      translateY: [30, 0],
      ease: "inOutSine",
      duration: 600,
      autoplay: onScroll({
        enter: "bottom-=150 top",
        leave: "top bottom",
        sync: "play reverse",
      }),
    });

    animate(".workp", {
      opacity: [0, 1],
      translateY: [30, 0],
      ease: "inOutSine",
      duration: 600,
      autoplay: onScroll({
        enter: "bottom-=150 top",
        leave: "top bottom",
        sync: "play reverse",
      }),
    });
  } else {
    animate(".workheader", {
      opacity: [0, 1],
      translateY: [30, 0],
      ease: "inOutSine",
      duration: 600,
      autoplay: onScroll({
        enter: "bottom-=250 top",
        leave: "top bottom",
        sync: "play reverse",
      }),
    });

    animate(".workp", {
      opacity: [0, 1],
      translateY: [30, 0],
      ease: "inOutSine",
      duration: 600,
      autoplay: onScroll({
        enter: "bottom-=250 top",
        leave: "top bottom",
        sync: "play reverse",
      }),
    });
  }

  // Stripe scroll animation
  const stripeContent = document.querySelector(
    ".work-container .stripe-content"
  ) as HTMLElement;
  const container = document.querySelector(".work-container") as HTMLElement;
  let lastScroll = window.scrollY;
  let translateX = 0;

  if (stripeContent && container) {
    window.addEventListener("scroll", () => {
      const currentScroll = window.scrollY;
      const scrollDelta = currentScroll - lastScroll;

      // Check if container is in viewport
      const rect = container.getBoundingClientRect();
      const isInView = rect.top < window.innerHeight && rect.bottom > 0;

      if (isInView) {
        // Update translateX based on scroll direction
        translateX -= scrollDelta * 0.5; // Adjust multiplier for speed
        stripeContent.style.transform = `translateX(${translateX}px)`;
      }

      lastScroll = currentScroll;
    });
  }
</script>
<style>
  .container {
    height: 1000px;
    width: 100vw;
    background: #2b2a33;
    background: radial-gradient(
      circle,
      rgba(43, 42, 51, 1) 0%,
      rgba(0, 0, 0, 1) 86%
    );
    padding: 150px 0px;
    display: flex;
    flex-direction: column;
    justify-content: start;
    place-items: center;
    font-family: "AktivGrotesk Light";
    color: white;
    position: relative;
    z-index: 10;
    /*  padding-left: 15%; */
    padding-bottom: 0%;
  }
  .workheader {
    font-size: 65pt;
    text-align: center;
    line-height: 110px;
    line-height: 70pt;
    margin: 0;
    font-weight: 400;
    z-index: 30;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
  }
  .workheader2 {
    font-family: "Kepler";
    font-size: 80pt;
    letter-spacing: -4px;
    font-weight: 400;
    margin: 0;
    z-index: 30;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
  }

  p {
    margin-top: 40px;
    margin-left: 0rem;
    line-height: 30px;
    width: 800px;
    text-align: center;
  }

  .stripe {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 80px;
    overflow: hidden;
    display: flex;
    align-items: center;
    /* background: #2b2a33; */
  }

  .stripe-content {
    font-family: "Kepler";
    font-weight: 400;
    display: flex;
    white-space: nowrap;
    font-size: 28pt;
    letter-spacing: 2px;
    will-change: transform;
  }

  .stripe-content span {
    display: inline-block;
  }

  .stripe-content .highlight {
    color: #dbe120;
  }
  @media (max-width: 1000px) {
    .workheader {
      font-size: 50pt;
    }
    .workheader2 {
      font-size: 65pt;
    }
    p {
      width: 600px;
      font-size: 10pt;
    }
  }
  @media (max-width: 768px) {
    .workheader {
      font-size: 25pt;
      line-height: 45px;
    }
    .workheader2 {
      font-size: 30pt;
      letter-spacing: -2px;
    }
    p {
      width: 80%;
      font-size: 9pt;
    }
    .stripe-content {
      font-size: 16pt;
      letter-spacing: 0px;
    }
    .container {
      padding: 70px 0px;
    }
  }
</style>
